<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="inherit_print_employee_profile_table_layout" inherit_id="hr.print_employee_badge">
        <xpath expr="//div[hasclass('page')]" position="replace">
            <div class="page" dir="rtl" style="font-family: 'Cairo', 'Tajawal', sans-serif; color: #333; font-size: 13px;">

                <style>
                    .table-custom td { padding: 5px; vertical-align: middle; }
                    .label-cell { font-weight: bold; width: 15%; color: #333; }
                    .value-cell { width: 35%; border-bottom: 1px solid #ccc; }
                    .section-header {
                        background-color: #f9f9f9;
                        color: #5d3b6d;
                        font-weight: bold;
                        padding: 5px 10px;
                        border-right: 5px solid #5d3b6d;
                        margin-top: 15px;
                        margin-bottom: 10px;
                    }
                </style>

                <t t-foreach="docs" t-as="employee">

                    <div class="row" style="border-bottom: 2px solid #5d3b6d; padding-bottom: 10px; margin-bottom: 10px;">

                        <div class="col-9 text-right" style="padding-top: 0px;">
                            <h1 style="color: #5d3b6d; font-weight: bold; margin: 0; font-size: 24px;">
                                <span t-if="employee.arabic_name" t-field="employee.arabic_name"/>
                                <span t-else="" t-field="employee.name"/>
                            </h1>

                            <h3 style="color: #008f8c; margin: 5px 0; font-weight: bold; font-size: 16px;">
                                <span t-if="employee.job_position_arabic" t-field="employee.job_position_arabic"/>
                                <span t-else="" t-field="employee.job_title"/>
                            </h3>

                            <div style="font-size: 14px; color: #555;">
                                (<span t-field="employee.job_title"/>)
                            </div>

                            <p style="color: #777; font-size: 12px; margin-top: 5px;">
                                <strong>كود الموظف:</strong> <span t-field="employee.barcode"/>
                                <span style="margin: 0 10px;">|</span>
                                <strong>الإدارة:</strong> <span t-field="employee.department_id.name"/>
                            </p>
                        </div>

                        <div class="col-3 text-left">
                            <div style="width: 110px; height: 130px; border: 1px solid #333; padding: 2px; float: left; display: flex; align-items: center; justify-content: center;">
                                <img t-if="employee.avatar_1920" t-att-src="image_data_uri(employee.avatar_1920)" style="max-height: 100%; max-width: 100%;"/>
                            </div>
                        </div>
                    </div>

                    <div class="section-header">بيانات العمل (Work Information)</div>

                    <table class="table-custom" style="width: 100%; margin-bottom: 10px;">
                        <tr>
                            <td class="label-cell">موبايل العمل:</td>
                            <td class="value-cell"><span t-field="employee.mobile_phone"/></td>

                            <td class="label-cell">المدير المباشر:</td>
                            <td class="value-cell"><span t-field="employee.parent_id.name"/></td>
                        </tr>
                        <tr>
                            <td class="label-cell">تاريخ الدخول:</td>
                            <td class="value-cell"><span t-field="employee.company_entry_date"/></td>

                            <td class="label-cell">تاريخ بدء العمل:</td>
                            <td class="value-cell"><span t-field="employee.joining_date"/></td>
                        </tr>
                        <tr>
                            <td class="label-cell">رتبة الموظف:</td>
                            <td class="value-cell"><span t-field="employee.employee_rank"/></td>

                            <td class="label-cell">الحساب البنكي:</td>
                            <td class="value-cell"><span t-field="employee.account_number_1"/></td>
                        </tr>
                    </table>


                    <div class="section-header">البيانات الشخصية (Personal Information)</div>

                    <table class="table-custom" style="width: 100%; margin-bottom: 10px;">
                        <tr>
                            <td class="label-cell">الرقم القومي:</td>
                            <td class="value-cell"><span t-field="employee.national_id"/></td>

                            <td class="label-cell">تاريخ الميلاد:</td>
                            <td class="value-cell"><span t-field="employee.birth_date"/></td>
                        </tr>
                        <tr>
                            <td class="label-cell">الحالة الاجتماعية:</td>
                            <td class="value-cell"><span t-field="employee.marital"/></td>

                            <td class="label-cell">المؤهل الدراسي:</td>
                            <td class="value-cell"><span t-field="employee.certificate"/></td>
                        </tr>
                        <tr>
                            <td class="label-cell">العنوان الحالي:</td>
                            <td class="value-cell" colspan="3">
                                <span t-if="employee.address_home_id" t-esc="employee.address_home_id.name"/>
                                <span t-if="employee.address_home_id and employee.address_home_id.street">, <span t-esc="employee.address_home_id.street"/></span>
                            </td>
                        </tr>
                        <tr>
                            <td class="label-cell">جهة الطوارئ:</td>
                            <td class="value-cell"><span t-field="employee.emergency_contact"/></td>

                            <td class="label-cell">هاتف الطوارئ:</td>
                            <td class="value-cell"><span t-field="employee.emergency_phone"/></td>
                        </tr>
                    </table>


                    <div class="section-header">البيانات التأمينية (Insurance Details)</div>

                    <table class="table-custom" style="width: 100%; margin-bottom: 10px;">
                        <tr>
                            <td class="label-cell">الرقم التأميني:</td>
                            <td class="value-cell"><span t-field="employee.insurance_number"/></td>

                            <td class="label-cell">تاريخ الدخول:</td>
                            <td class="value-cell"><span t-field="employee.insurance_entry_date"/></td>
                        </tr>
                        <tr>
                            <td class="label-cell">الكود التأميني:</td>
                            <td class="value-cell"><span t-field="employee.social_insurance_code"/></td>

                            <td class="label-cell">المسمى التأميني:</td>
                            <td class="value-cell"><span t-field="employee.insurance_job_title"/></td>
                        </tr>
                    </table>


                    <div class="section-header">السجل التدريبي والكورسات (Training Courses)</div>

                    <table class="table table-bordered table-sm" style="width: 100%; text-align: center; border: 1px solid #ddd; font-size: 12px;">
                        <thead style="background-color: #5d3b6d; color: white;">
                            <tr>
                                <th style="width: 30%;">اسم الكورس</th>
                                <th style="width: 15%;">البداية</th>
                                <th style="width: 15%;">النهاية</th>
                                <th style="width: 20%;">الجهة</th>
                                <th style="width: 20%;">ملاحظات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="employee.course_ids" t-as="course">
                                <tr>
                                    <td><span t-field="course.name"/></td>
                                    <td><span t-field="course.date_start"/></td>
                                    <td><span t-field="course.date_end"/></td>
                                    <td><span t-field="course.location"/></td>
                                    <td><span t-field="course.notes"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <div class="page-break" style="page-break-after: always;"></div>

                </t>
            </div>
        </xpath>
    </template>
</odoo>